---
- summary: |
    Регистрация при помощи логина и пароля
  requirement: |
    У пользователей должна быть возможность зарегистрироваться на сайте при помощи логина 
    и пароля/учетной записи на Github/учетной записи в Discord
  prerequisites: |
    нет
  test-data: |
    Тестовые данные
    Логин = test@test.ru
    Пароль = 111111
    Никнейм = Alex
  steps:
    - Вводим Nickname
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Авторизация при помощи логина и пароля
  requirement: |
    На сайте доступ к его игровому функционалу должен осуществляться после авторизации
  prerequisites: |
    Пользователь должен быть разавторизован
    Пользователь должен пройти предварительно регистрацию по логину и паролю
  test-data: |
    Логин = test@test.ru
    Пароль = 111111
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку Submit
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Восстановление доступа для учетной записи, которую создавали при помощи логина и пароля
  requirement: |
    Сайт должен позволять пользователю восстановить пароль, если он регистрировался по логину и паролю.
  prerequisites: |
    Пользователь должен быть разавторизован
    Пользователь должен пройти предварительно регистрацию по логину и паролю.
    При регистрации пользователь должен использовать почту, к которой у него есть доступ
  test-data: |
    Логин = test@test.ru
    Новый пароль = 111112
  steps:
    - Вводим логин
    - Нажимаем кнопку Submit
    - Переходим по ссылке из письма
    - Вводим новый пароль
    - Подтверждаем смену пароля
  expected-result: |
    Пользователь должен увидеть на экране сообщение, что пароль изменен.

- summary: |
    Регистрация через Github
  requirement: |
    У пользователей должна быть возможность зарегистрироваться на сайте при помощи логина 
    и пароля/учетной записи на Github/учетной записи в Discord
  prerequisites: |
    У пользователя должен быть аккаунт на GitHub
    Пользователь авторизован в GitHub
  test-data: |
    Аккаунт на GitHub
  steps:
    - Выбираем способ регистрации через GitHub
    - Даем разрешение сайту на GitHub использовать учетную запись
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Регистрация через Discord
  requirement: |
    У пользователей должна быть возможность зарегистрироваться на сайте при помощи логина 
    и пароля/учетной записи на Github/учетной записи в Discord
  prerequisites: |
    У пользователя должен быть аккаунт в Discord
    Пользователь авторизован в Discord
  test-data: |
    Аккаунт в Discord
  steps:
    - Выбираем способ регистрации через Discord
    - Даем разрешение сайту в Discord использовать учетную запись
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Авторизация при помощи учетной записи Github
  requirement: |
    На сайте доступ к его игровому функционалу должен осуществляться после авторизации
  prerequisites: |
    У пользователя должен быть аккаунт на GitHub
    Пользователь авторизован в GitHub
    Пользователь зарегистрирован при помощи учетной записи GitHub
  test-data: |
    Аккаунт на GitHub
  steps:
    - Выбираем способ авторизации через GitHub
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Авторизация при помощи учетной записи Discord
  requirement: |
    На сайте доступ к его игровому функционалу должен осуществляться после авторизации
  prerequisites: |
    У пользователя должен быть аккаунт в Discord
    Пользователь авторизован в Discord
    Пользователь зарегистрирован при помощи учетной записи Discord
  test-data: |
    Аккаунт в Discord
  steps:
    - Выбираем способ авторизации через Discord
    - Подтверждаем на сайте Discord разрешение использовать учетную запись
  expected-result: |
    Пользователь должен быть авторизован и находиться на странице лобби

- summary: |
    Создание игры с ботом, уровнем сложности easy и рандомным заданием по тэгу string
  requirement: |
    Пользователь должен иметь возможность создавать на сайте игру с ботом
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    нет
  steps:
    - Нажать Создать игру на главной странице
    - Выбрать тип Игра с ботом
    - Выбрать уровень сложности easy
    - Включить тэг задания string
    - Установить длительность игры 10 минут
    - Подтвердить создание игры
  expected-result: |
    Создана игра со случайно выбранным ботом, длительностью игры 10 минут, заданием, связанным с работой над строками

- summary: |
    Создание игры с пригласительной ссылкой, уровнем сложности elementary и рандомным заданием по тэгу math
  requirement: |
    Пользователь должен иметь возможность создавать на сайте закрытую игру с пригласительной ссылкой.
  prerequisites: |
    Пользователь1 авторизован на сайте
    Пользователь2 авторизован на сайте
  test-data: |
    нет
  steps:
    - Пользователь1 нажимает Создать игру на главной странице
    - Пользователь1 выбирает тип Игра с другом
    - Выбрать уровень сложности elementary
    - Включить тэг задания math
    - Установить длительность игры 12 минут
    - Пользователь1 выбирает в списке пользователей учетную запись Пользователя1
    - Пользователь2 принимает приглашение
  expected-result: |
    Создана игра Пользователя1 с Пользователем2, с длительностью игры 12 минут, заданием, связанным с математическими вычислениями 

- summary: |
    Создание открытой игры
  requirement: |
    Пользователь должен иметь возможность создавать на сайте открытую игру, к которой могут присоединиться любые желающие.
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    нет
  steps:
    - Пользователь нажимает Создать игру на главной странице
    - Пользователь выбирает тип With other user
    - Выбрать уровень сложности medium
    - Включить тэг задания collection
    - Установить длительность игры 15 минут
  expected-result: |
    Игра создана и находится в режиме ожидания второго игрока

- summary: |
    Создание игры с ботом, уровнем сложности hard и рандомным заданием по тэгу rest
  requirement: |
    Пользователь может управлять настройками игры во время создания - длительность, уровень сложности, тип игры (открытая, закрытая, с ботом), тэги, задание.
  prerequisites: |
    Пользователь авторизован на сайте
  test-data: |
    нет
  steps:
    - Пользователь нажимает Создать игру на главной странице
    - Пользователь выбирает тип Игра с ботом
    - Выбрать уровень сложности hard
    - Включить тэг задания rest
    - Установить длительность игры 20 минут
  expected-result: |
    Создана игра со случайно выбранным ботом, длительностью игры 20 минут, заданием, выбранным случайным образом согласна тэга rest и уровня сложности hard

- summary: |
    Отображение на экране процесса набора кода оппонентом
  requirement: |
    Пользователь должен видеть в режиме онлайн, как справляется с решением задания его оппонент
  prerequisites: |
    Пользователь1 авторизован на сайте
    Пользователь2 авторизован на сайте
    Пользователь1 и Пользователь2 участвуют в одной игре
  test-data: |
    нет
  steps:
    - Пользователь1 в окне ввода кода в любом месте вводит символы "print"
  expected-result: |
    Пользователь2 видит на экране в окне с кодом Пользователь1 слово print

- summary: |
    Запуск тестов в игре, проверяющих написанный участником игры код 
  requirement: |
    Пользователь должен иметь возможность ввести свой программный код и проверить его
  prerequisites: |
    Пользователь создал игру с ботом
  test-data: |
    нет
  steps:
    - Пользователь вводит "print" в окне ввода кода
    - Пользователь запускает тесты, проверяющие код
  expected-result: |
    Пользователь видит на экране сообщение о том, что тесты не пройдены

- summary: |
    Просмотр результатов выполнения тестов
  requirement: |
    Пользователь должен иметь возможность видеть вывод тестов после запуска проверки своего решения
  prerequisites: |
    Пользователь создал игру с ботом
  test-data: |
    нет
  steps:
    - Пользователь вводит "print" в окне ввода кода
    - Пользователь запускает тесты, проверяющие код
    - Пользователь переключается в окно Output
    - Пользователь пролистывает строки вывода на вкладке Output
  expected-result: |
    На вкладке Output есть описание данных, какие данные передаются, какой результат ожидается, какой результат получен

- summary: |
    Смена языка программирования во время игры
  requirement: |
    Пользователь должен иметь возможность сменить язык программирования во время игры
  prerequisites: |
    Пользователь создал игру с ботом
  test-data: |
    нет
  steps:
    - Пользователь вводит "print" в окне ввода кода
    - Пользователь меняет язык программирования
  expected-result: |
    Окно ввода кода обновилось, в нем указано определение функции без слова print

- summary: |
    Запуск игры через вход по пригласительной ссылке
  requirement: |
    Пользователь может присоединиться к игре по пригласительной ссылке. Как только пользователь перешел по пригласительной ссылке, игра начинается
  prerequisites: |
    Пользователь1 авторизован на сайте
    Пользователь2 авторизован на сайте
  test-data: |
    нет
  steps:
    - Пользователь1 нажимает Создать игру на главной странице
    - Пользователь1 выбирает тип Игра с другим пользователем
    - Все остальные параметры игры оставляет без изменений
    - Пользователь1 подтверждает создание игры
    - Пользователь1 входит в игру в лобби, нажав Continue
    - Пользователь1 копирует пригласительную ссылку
    - Пользователь1 отправляет ссылку Пользователю 2 приватным сообщением
    - Пользователь2 переходит по ссылке из сообщения
    - Пользователь2 присоединяется к игре, нажав Join
  expected-result: |
    Пользователь2 перешел в игру

- summary: |
    Отмена созданной игры, доступной всем для присоединения
  requirement: |
    Пользователь может отменить созданную игру, доступную всем для присоединения
  prerequisites: |
    Пользователь1 авторизован на сайте
  test-data: |
    нет
  steps:
    - Пользователь1 нажимает Создать игру на главной странице
    - Пользователь1 выбирает тип Игра с другим пользователем
    - Все остальные параметры игры оставляет без изменений
    - Пользователь1 подтверждает создание игры
    - Пользователь1 входит в игру в лобби, нажав Continue
    - Пользователь1 отменяет игру
  expected-result: |
    Пользователь оказывается на странице лобби, на которой в списке доступных игр нет его игры

- summary: |
    Вход в доступную игру из списка в лобби, созданную ботом
  requirement: |
    Пользователь может присоединиться к любой доступной игре (с ботом или зарегистрированным пользователем)
  prerequisites: |
    Пользователь авторизован на сайте
    В списке доступных игр в лобби есть игра, ожидающая партнера
  test-data: |
    нет
  steps:
    - Пользователь нажимает Fight в строке с игрой
  expected-result: |
    Игра запустилась у Пользователя

- summary: |
    Участие в двух играх одновременно
  requirement: |
    Пользователь в моменте может иметь только одну активную игру
  prerequisites: |
    Пользователь авторизован на сайте
    В списке доступных игр в лобби есть минимум 2 игры, ожидающие партнера
  test-data: |
    нет
  steps:
    - Пользователь нажимает Fight в строке с первой игрой 
    - Пользователь выходит из первой игры в лобби
    - Пользователь нажимает Fight в строке со второй игрой
  expected-result: |
    Пользователь видит сообщение с ошибкой

  

